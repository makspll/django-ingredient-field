version: 2
jobs: 
  build:
    docker: 
      - image: circleci/python:3.8
    steps: 
      - checkout 
      - run: | 
          python3 -m venv venv
          . venv/bin/activate
          pip install -r requirements_dev.txt
      - run: |
          . venv/bin/activate
          cd django-ingredient-field
          python3 setup.py sdist
          twine upload --repository testpypi dist/*
